<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Norah Miller</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sassy+Frass&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Anonymous+Pro:wght@400;700&display=swap" rel="stylesheet">
    <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <script type="importmap">
        {
          "imports": {
            "three": "https://unpkg.com/three@v0.153.0/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@v0.153.0/examples/jsm/"
          }
        }
      </script>
</head>
<body>
    <div id="loading-screen">
        <div class="loader-container">
            <img src="images/N.svg" class="logo" alt="N Logo" />
            <div class="circle">
                <svg width="158" height="141" viewBox="0 0 158 141" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path id="loading-path" d="M31.3186 136.895C14.6354 123.139 4 102.311 4 79C4 37.5786 37.5786 4 79 4C120.421 4 154 37.5786 154 79C154 102.311 143.365 123.139 126.681 136.895" 
                        stroke="white" stroke-width="2" stroke-linecap="round"
                        stroke-dasharray="500" stroke-dashoffset="500">
                    </path>
                </svg>
            </div>
        </div>
    </div>
    <div class="main-container">
        <header>
            <div class="gradient-overlay"></div>
            <a href="index.html" class="watermark sassy-frass-regular">N</a>
            <button class="menu-toggle" aria-label="Toggle navigation">
                <img src="images/menu.png" alt="Menu">
            </button>
            <nav>
                <ul>
                    <li><a href="index.html" style="text-decoration: underline;">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="skills.html">Skills</a></li>
                    <li><a href="experience.html">Experience</a></li>
                    <li><a href="portfolio.html">Portfolio</a></li>
                    <li><a href="contact.html">Contact Me</a></li>
                </ul>
            </nav>
        </header>
        <div class="blobs">
            <div class="blob blob1"></div>
            <div class="blob blob2"></div>
            <div class="blob blob3"></div>
        </div>
        <div class="main-wrapper">
            <main>
                <div class="intro">
                    <h1>I'm Norah,</h1>
                    <h2>I code and design</h2>
                    <div class="icons">
                        <a href="https://www.linkedin.com/in/norahmiller/" target="_blank">
                            <img src="images/linkedin.png" alt="LinkedIn Icon" class="icon">
                        </a>
                        <a href="https://github.com/norahmiller" target="_blank">
                            <img src="images/github.png" alt="GitHub Icon">
                        </a>
                        <a href="mailto:norah@purdue.edu">
                            <img src="images/email.png" alt="Email Icon">
                        </a>
                    </div>
                    <p>learn more about me</p>
                </div>
                <div class="arrow" id="arrow">
                    <svg width="30" height="83" viewBox="0 0 30 83" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9.62352 1.15438C4.7435 16.5993 -6.03129 35.6517 8.08876 45.5381C16.0938 51.143 33.1373 41.6252 26.8673 31.4062C16.7455 24.8627 9.22393 49.827 20.0567 80.8049M20.0567 80.8049L21.5066 76.5939M20.0567 80.8049L16.4777 77.977" stroke="#F6F6F6" stroke-width="2" stroke-linecap="round"/>
                        </svg>                                       
                </div>          
                <div id="avatar" class="avatar">
                    <div class="gradient-behind"></div>
                </div>
                <div class="greeting">
                    <div class="saturday-august-regular">Hello!</div>
                    <svg width="14" height="26" viewBox="0 0 14 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12.1918 1.13007C13.6552 14.5776 5.34038 22.6465 1.00005 25" stroke="white" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>                
                </div>
            </main>
        </div>
        <div class="mid-wrapper">
            <div class="mid" id="mid">
                <div class="illustration-container">
                    <a href="about.html">
                        <img id="hand" src="images/hand.png" alt="About Me" class="illustration">
                    </a>
                    <a href="about.html" class="label">About Me</a>
                </div>
                
                <div class="illustration-container">
                    <a href="skills.html">
                        <img src="images/pencil.png" alt="Skills" class="illustration">
                    </a>
                    <a href="skills.html" class="label">Skills</a>
                </div>
                
                <div class="illustration-container">
                    <a href="experience.html">
                        <img src="images/clipboard.png" alt="Experience" class="illustration">
                    </a>
                    <a href="experience.html" class="label">Experience</a>
                </div>
            
                <div class="illustration-container">
                    <a href="portfolio.html">
                        <img src="images/folder.png" alt="Portfolio" class="illustration">
                    </a>
                    <a href="portfolio.html" class="label">Portfolio</a>
                </div>
            </div>
        </div> 
        <div class="bottom-text">
            <p>Want to reach out? <a href="contact.html">Contact me!</a></p>
        </div>
        
    </div>
    <script src="js/main.js"></script>
    <script type="module" src="js/avatar.js"></script>
    <script>
        document.getElementById('arrow').addEventListener('click', function() {
            // Get the position of mid-wrapper
            const midWrapper = document.querySelector('.mid-wrapper');
    
            if (midWrapper) {
                window.scrollTo({
                    top: midWrapper.offsetTop, // Scrolls to the top of mid-wrapper
                    behavior: 'smooth'
                });
            }
        });
    </script>
    <script>
        const arrow = document.querySelector('.arrow');
        const path = arrow.querySelector('svg path');

        let bounceInterval;

        function startBouncing() {
            bounceInterval = setInterval(() => {
                arrow.classList.remove('bounce');
                void arrow.offsetWidth; // Trigger reflow
                arrow.classList.add('bounce');
            }, 5000);
        }

        function stopBouncing() {
            clearInterval(bounceInterval);
            arrow.classList.remove('bounce');
        }

        // Stop bounce on hover
        arrow.addEventListener('mouseenter', () => {
            stopBouncing();

            // Reset the draw animation so it can retrigger every time
            path.style.animation = 'none';
            path.offsetHeight; // force reflow
            path.style.animation = 'draw-arrow 1s ease-in-out forwards';
        });

        // Resume bounce on leave
        arrow.addEventListener('mouseleave', () => {
            path.style.animation = 'none';
            startBouncing();
        });

        // Start bounce on load
        startBouncing();
    </script>
    <script>
        const illustrations = document.querySelectorAll('.illustration');
        let hasAnimated = false;
      
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting && !hasAnimated) {
              hasAnimated = true;
      
              illustrations.forEach((img, index) => {
                setTimeout(() => {
                  img.classList.add('animate-once');
      
                  // Optional: remove class so hover works normally
                  setTimeout(() => {
                    img.classList.remove('animate-once');
                  }, 800); // slightly longer to match slower animation
                }, index * 200); // 200ms gap between each image
              });
      
              observer.disconnect(); // Stop after first run
            }
          });
        }, {
          threshold: 0.6 // 60% of the element must be visible before triggering
        });
      
        // Observe the wrapper element or first image
        if (illustrations.length > 0) {
          observer.observe(illustrations[0].parentElement);
        }
      </script>    
      <script>
        const containers = document.querySelectorAll('.illustration-container');
      
        containers.forEach(container => {
          container.addEventListener('mousemove', (e) => {
            const rect = container.getBoundingClientRect();
            const x = e.clientX - rect.left; // mouse X inside element
            const y = e.clientY - rect.top;  // mouse Y inside element
      
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;
      
            const rotateX = -(y - centerY) / 12;
            const rotateY = (x - centerX) / 12;
      
            container.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
          });
      
          container.addEventListener('mouseleave', () => {
            container.style.transform = `rotateX(0deg) rotateY(0deg)`;
          });
        });
      </script>  
      
</body>
</html>
